---
title: "Obtener Balances"
description: "GET /api/v1/balances/:walletId"
---

Obtiene los balances de tokens en todas las chains soportadas.

## Endpoint

```
GET https://api.pan.com/api/v1/balances/:walletId
```

## Autenticación

API Key o X402

## Parámetros de URL

| Parámetro | Tipo | Descripción |
|-----------|------|-------------|
| `walletId` | string | ID de la wallet (`pan_wallet_...`) |

## Response

### 200 OK

```json
{
  "walletId": "pan_wallet_a1b2c3d4e5f6",
  "address": "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
  "chains": [
    {
      "chain": "arbitrum-sepolia",
      "tokens": [
        {
          "asset": "USDC",
          "balance": "500000000",
          "balanceFormatted": "500.00",
          "decimals": 6,
          "valueUsd": 500.00
        }
      ]
    },
    {
      "chain": "base-sepolia",
      "tokens": [
        {
          "asset": "USDC",
          "balance": "200000000",
          "balanceFormatted": "200.00",
          "decimals": 6,
          "valueUsd": 200.00
        }
      ]
    }
  ],
  "totalValueUsd": 700.00
}
```

<Warning>
  **Cambio de estructura**: La respuesta usa un array `chains` en lugar de un objeto `balances`. Cada chain contiene su propio array de `tokens`.
</Warning>

### Campos de Respuesta

| Campo | Tipo | Descripción |
|-------|------|-------------|
| `walletId` | string | ID de la wallet |
| `address` | string | Dirección de la wallet |
| `chains` | array | Lista de chains con balances |
| `totalValueUsd` | number | Valor total en USD (opcional) |

### Campos de Token

| Campo | Tipo | Descripción |
|-------|------|-------------|
| `asset` | string | Símbolo del token (USDC, WETH, etc.) |
| `balance` | string | Balance en unidades mínimas |
| `balanceFormatted` | string | Balance con decimales |
| `decimals` | number | Decimales del token |
| `valueUsd` | number | Valor en USD (opcional) |

### Errores

| Código | Error | Descripción |
|--------|-------|-------------|
| 401 | UNAUTHORIZED | API key inválida |
| 404 | NOT_FOUND | Wallet no existe |

## Ejemplos

<CodeGroup>
```bash cURL
curl -X GET "https://api.pan.com/api/v1/balances/pan_wallet_a1b2c3d4e5f6" \
  -H "Authorization: Bearer $PAN_API_KEY"
```

```javascript JavaScript
const response = await fetch(
  'https://api.pan.com/api/v1/balances/pan_wallet_a1b2c3d4e5f6',
  {
    headers: {
      'Authorization': `Bearer ${process.env.PAN_API_KEY}`
    }
  }
);

const data = await response.json();
console.log('Total USD:', data.totalValueUsd);
```

```typescript SDK
import Pan from '@odisea-labs/pan';

const pan = new Pan({ apiKey: process.env.PAN_API_KEY });

const balances = await pan.wallet.getBalances('pan_wallet_a1b2c3d4e5f6');
console.log('Total USD:', balances.totalValueUsd);
```
</CodeGroup>

## Notas

- Los balances se consultan en tiempo real de cada blockchain
- El campo `totalValueUsd` suma todos los tokens (puede ser `null` si no hay precios disponibles)
- Las chains sin tokens retornan array vacio de `tokens: []`
- Los precios USD se actualizan cada minuto
