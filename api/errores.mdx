---
title: "Codigos de Error"
description: "Referencia completa de errores de pan API"
---

## Estructura de Error

```json
{
  "error": "ERROR_CODE",
  "message": "Descripción legible del error",
  "details": {
    "campo": "información adicional"
  }
}
```

## Códigos de Error

Los siguientes son los códigos de error soportados por la API:

| Código de Error | Codigo HTTP | Descripción |
|-----------------|-------------|-------------|
| `UNAUTHORIZED` | 401 | API key faltante o inválida |
| `VALIDATION_ERROR` | 400 | Error de validación en el request |
| `UNSUPPORTED_ACTION` | 400 | Acción no soportada |
| `INVALID_NETWORK` | 400 | Red inválida |
| `WALLET_LIMIT_EXCEEDED` | 403 | Límite de wallets del plan excedido |
| `NOT_FOUND` | 404 | Recurso no encontrado |
| `PLANNING_ERROR` | 500 | Error durante la planificación del intent |
| `INTERNAL_ERROR` | 500 | Error interno del servidor |

## Errores de Autenticación

### UNAUTHORIZED

```json
{
  "error": "UNAUTHORIZED",
  "message": "Invalid or missing API key"
}
```

**Codigo HTTP**: 401

**Causas**:
- Header `Authorization` faltante
- API key mal formateada
- API key revocada o invalida

**Solución**:
```javascript
// Verificar formato correcto
headers: {
  'Authorization': `Bearer ${apiKey}` // Nota el espacio
}
```

## Errores de Validación

### VALIDATION_ERROR

```json
{
  "error": "VALIDATION_ERROR",
  "message": "Invalid request body",
  "details": {
    "field": "amount",
    "issue": "Must be a positive number"
  }
}
```

**Codigo HTTP**: 400

**Causas**:
- Campo requerido faltante
- Tipo de dato incorrecto
- Valor fuera de rango

### UNSUPPORTED_ACTION

```json
{
  "error": "UNSUPPORTED_ACTION",
  "message": "Action not supported",
  "details": {
    "provided": "swap",
    "supported": ["lend", "withdraw", "bridge"]
  }
}
```

**Codigo HTTP**: 400

**Causas**:
- La acción solicitada no está implementada
- Acciones soportadas actualmente: `lend`, `withdraw`, `bridge`

### INVALID_NETWORK

```json
{
  "error": "INVALID_NETWORK",
  "message": "Network not supported",
  "details": {
    "provided": "devnet",
    "supported": ["mainnet", "testnet"]
  }
}
```

**Codigo HTTP**: 400

## Errores de Recursos

### NOT_FOUND

```json
{
  "error": "NOT_FOUND",
  "message": "Resource not found",
  "details": {
    "resource": "wallet",
    "id": "usuario_123"
  }
}
```

**Codigo HTTP**: 404

**Solución**: Verificar que el recurso existe o crearlo primero

### WALLET_LIMIT_EXCEEDED

```json
{
  "error": "WALLET_LIMIT_EXCEEDED",
  "message": "Maximum wallet limit reached for your plan",
  "details": {
    "limit": 100,
    "current": 100,
    "plan": "free"
  }
}
```

**Codigo HTTP**: 403

**Solución**: Actualizar plan o eliminar wallets no usadas

## Errores de Ejecución

### PLANNING_ERROR

```json
{
  "error": "PLANNING_ERROR",
  "message": "Failed to generate execution plan",
  "details": {
    "reason": "No viable route found"
  }
}
```

**Codigo HTTP**: 500

**Causas**:
- No se encontró una ruta viable para la operación
- Fondos insuficientes para cubrir gas
- Protocolo destino no disponible

## Errores de Servidor

### INTERNAL_ERROR

```json
{
  "error": "INTERNAL_ERROR",
  "message": "An unexpected error occurred"
}
```

**Codigo HTTP**: 500

**Solución**: Reintentar con backoff, contactar soporte si persiste

## Manejo de Errores

```javascript
async function requestConManejo(fn) {
  try {
    return await fn();
  } catch (error) {
    switch (error.code) {
      case 'UNAUTHORIZED':
        throw new Error('API key inválida o faltante');

      case 'VALIDATION_ERROR':
        throw new Error(`Validación fallida: ${error.message}`);

      case 'NOT_FOUND':
        // Crear recurso automaticamente si aplica
        throw new Error(`Recurso no encontrado: ${error.details?.resource}`);

      case 'WALLET_LIMIT_EXCEEDED':
        throw new Error('Límite de wallets alcanzado');

      case 'PLANNING_ERROR':
        throw new Error(`Error de planificación: ${error.message}`);

      case 'INTERNAL_ERROR':
        // Reintentar con backoff
        await sleep(5000);
        return requestConManejo(fn);

      default:
        throw error;
    }
  }
}
```
